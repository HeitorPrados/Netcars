<!DOCTYPE html>
<html lang="pt-br" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/adicionar_veiculo.css">
    <script src="https://kit.fontawesome.com/ac1aaaa398.js" crossorigin="anonymous"></script>
    <script src="assets/js/home.js" defer></script>
    <title>Netcars</title>
    <link rel="icon" href="assets/img/logo-icon-navegador.png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <header>
        <div class="div-logo">
            <img src="assets/img/logo.png" alt="Logo Netcars">
            <p><span>NET</span>CARS</p>
        </div>
        <nav>
            <ul>
                <li><a href="">Home</a></li>
                <li id="nav-veiculos"><a>Veículos</a></li>
                <li><a href="#footer">Contato</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="container-branco" id="fase-1">
            <p class="titulo">Preencha a placa do veículo</p>
            <div class="placa">
                <div class="div-azul">
                    <div class="logo-brazil"></div>
                </div>
                <input type="text" name="" id="" placeholder="ABC1D23" maxlength="7">
                <div class="linha"></div>
            </div>
            <div class="aviso">
                <div class="escudo-aviso"></div>
                <p class="texto-aviso">Não vamos divulgar sua placa! Ela será usada apenas para completar seu anúncio e realizar verificações de segurança.</p>
            </div>
            <button class="voltar"><i class="fa-solid fa-arrow-left"></i>Voltar</button>
            <div class="continuar">
                <p>Continuar</p>
                <i class="fa-solid fa-arrow-right"></i>   
            </div>
        </div>

        <div class="container-branco" id="fase-2">
            <p class="titulo2">Selecione o tipo de veículo</p>
            <div class="veiculo">
                <div class="icon-veiculo">
                    <img src="assets/img/image26.svg" alt="">
                </div>
                <p>Moto</p>
            </div>
            <div class="veiculo">
                <div class="icon-veiculo">
                    <img src="assets/img/image25.svg" alt="">
                </div>
                <p>Carro</p>
            </div>
            <button class="voltar"><i class="fa-solid fa-arrow-left"></i>Voltar</button>
            <div class="continuar">
                <p>Continuar</p>
                <i class="fa-solid fa-arrow-right"></i>   
            </div>
        </div>
        
        <div class="container-branco" id="fase-3">
            <p class="titulo3">Preencha os dados do veículo</p>
            <form action="">
                <div class="div-input">
                    <label for="marca">Marca</label>
                    <select id="marca" name="marca">
                        <option value=""></option>
                        <option value="chevrolet">Chevrolet</option>
                        <option value="ford">Ford</option>
                        <option value="fiat">Fiat</option>
                    </select>
                </div>
            
                <div class="div-input">
                    <label for="modelo">Modelo</label>
                    <select id="modelo" name="modelo">
                        <option value=""></option>
                        <option value="onix">Onix</option>
                        <option value="fiesta">Fiesta</option>
                        <option value="uno">Uno</option>
                    </select>
                </div>
        
                <div class="container-2labels">
                    <div class="div-input">
                      <label for="ano-modelo">Ano do modelo</label>
                      <input id="ano-modelo" name="ano-modelo" type="number" placeholder="" />
                    </div>
                  
                    <div class="div-input">
                      <label for="ano-fabricacao">Ano de fabricação</label>
                      <input id="ano-fabricacao" name="ano-fabricacao" type="number" placeholder="" />
                    </div>
                  </div>
        
                <div class="div-input">
                    <label for="versao">Versão</label>
                    <input id="versao" name="versao" type="text" placeholder="" />
                </div>
        
                <div class="container-2labels">
                    <div class="div-input">
                        <label for="cor">Cor</label>
                        <input id="cor" name="cor" type="text" placeholder="" />
                    </div>
                
                    <div class="div-input">
                        <label for="renavam">Renavam</label>
                        <input id="renavam" name="renavam" type="number" placeholder="" />
                    </div>
                </div>
            </form>
            
            <button class="voltar">
                <i class="fa-solid fa-arrow-left"></i>Voltar
            </button>
            <div class="continuar">
                <p>Continuar</p>
                <i class="fa-solid fa-arrow-right"></i>
            </div>
        </div>

        <div class="container-branco" id="fase-4">
            <p class="titulo3">Complemente as informações do seu veículo</p>
            <form action="">
        
                <div class="container-2labels">
                    <div class="div-input">
                        <label for="cambio">Câmbio*</label>
                        <select id="cambio" name="cambio">
                            <option value=""></option>
                            <option value="manual">Câmbio Manual</option>
                            <option value="automatico">Câmbio Automático</option>
                            <option value="sequen">Câmbio Sequencial</option>
                            <option value="cvt">Câmbio CVT (Transmissão Variável Contínua)</option>
                            <option value="dupla">Câmbio Dupla Embreagem</option>
                        </select>
                    </div>
                
                    <div class="div-input">
                        <label for="combustivel">Combustível*</label>
                        <select id="combustivel" name="combustivel">
                            <option value=""></option>
                            <option value="gasolina">Gasolina</option>
                            <option value="etanol">Etanol</option>
                            <option value="diesel">Diesel</option>
                            <option value="gnv">GNV (Gás Natural Veicular)</option>
                            <option value="eletrico">Elétrico</option>
                            <option value="hibrido">Híbrido</option>
                        </select>                        
                    </div>
                </div>
                <div class="container-2labels">
                    <div class="div-input">
                        <label for="categoria">Categoria*</label>
                        <select id="categoria" name="categoria">
                            <option value=""></option>
                            <option value="suv">SUV (Veículo Utilitário Esportivo)</option>
                            <option value="sedan">Sedã</option>
                            <option value="hatch">Hatchback</option>
                            <option value="picape">Picape</option>
                            <option value="crossover">Crossover</option>
                            <option value="minivan">Minivan</option>
                            <option value="esportivo">Esportivo</option>
                            <option value="luxo">Luxo</option>
                            <option value="compacto">Compacto</option>
                            <option value="elétrico">Elétrico</option>
                            <option value="híbrido">Híbrido</option>
                        </select>
                    </div>
                
                    <div class="div-input">
                        <label for="quilometragem">Quilometragem*</label>
                        <input id="quilometragem" name="quilometragem" type="number" placeholder="" />
                    </div>
                </div>
                        
                <div class="container-2labels">
                    <div class="div-input">
                        <label for="estado">Estado*</label>
                        <select id="estado" name="estado">
                            <option value=""></option>
                        </select>
                    </div>
                
                    <div class="div-input">
                        <label for="cidade">Cidade*</label>
                        <select id="cidade" name="cidade" disabled></select>
                    </div>
                </div>

                <div class="container-2labels">
                    <div class="div-input">
                        <label for="preco_c">Preço de Compra*</label>
                        <input id="preco_c" name="preco_c" type="number" placeholder="" />
                    </div>
                
                    <div class="div-input">
                        <label for="preco_v">Preço de Venda*</label>
                        <input id="preco_v" name="preco_v" type="number" placeholder="" />
                    </div>
                </div>
            </form>
            
            <button class="voltar">
                <i class="fa-solid fa-arrow-left"></i>Voltar
            </button>
            <div class="continuar">
                <p>Continuar</p>
                <i class="fa-solid fa-arrow-right"></i>
            </div>
        </div>

        <div class="container-branco" id="fase-5">
            <p class="titulo2">Por fim, insira as imagens do veículo</p>
            <p class="subtitulo">Insira no mínimo 3 fotos</p>
            
            <!-- Input de upload de imagem -->
            <label for="upload-imagem" class="upload-label">
                <img id="preview-imagem" src="assets/img/image29.svg" alt="Clique para adicionar uma imagem">
            </label>
            <input type="file" id="upload-imagem" accept="image/*" multiple>
        
            <button class="voltar"><i class="fa-solid fa-arrow-left"></i>Voltar</button>
            <div class="continuar">
                <p>Continuar</p>
                <i class="fa-solid fa-arrow-right"></i>   
            </div>
        </div>
        
        
    </main>

    <footer id="footer">
        <div class="div-contato">
            <div>
                <p class="footer-title">Cidades</p>
                <a class="footer-text">Birigui - SP</a>
                <a class="footer-text">Araçatuba - SP</a>
            </div>
            <div>
                <p class="footer-title">Comprar</p>
                <a class="footer-text">Carros usados</a>
                <a class="footer-text">Motos usadas</a>
                <a class="footer-text">Todos</a>
            </div>
            <div>
                <p class="footer-title">Contato</p>
                <a class="footer-text">(18) 99999-9999</a>
                <a class="footer-text">contato@netcars.com</a>
            </div>
        </div>
        <div class="div-logo">
            <img src="assets/img/logo.png" alt="Logo Netcars">
            <p><span>NET</span>CARS</p>
        </div>
        <div class="div-direitos-reservados">
            <p>© 2025 <span class="net">NET<span class="cars">CARS</span></span> S.A. Todos os direitos reservados.</p>
        </div>
    </footer>
    <script>

        //FUNÇÃO PARA N BUGAR O SELECT
        document.addEventListener("DOMContentLoaded", function () {
        const inputs = document.querySelectorAll(".div-input select, .div-input input");

        inputs.forEach((input) => {
            input.addEventListener("change", function () {
                if (this.value) {
                    this.previousElementSibling.classList.add("active");
                } else {
                    this.previousElementSibling.classList.remove("active");
                }
            });

            // Para manter o estado correto ao recarregar a página
            if (input.value) {
                input.previousElementSibling.classList.add("active");
            }
        });
    });


    
        //FUNÇÃO API DO IBGE
        $(document).ready(function () {
    const estadoSelect = $("#estado");
    const cidadeSelect = $("#cidade");

    // Função para carregar os estados
    function carregarEstados() {
        $.getJSON("https://servicodados.ibge.gov.br/api/v1/localidades/estados", function (estados) {
            estados.sort((a, b) => a.nome.localeCompare(b.nome)); // Ordena por nome

            $.each(estados, function (index, estado) {
                estadoSelect.append(`<option value="${estado.id}">${estado.nome}</option>`);
            });
        }).fail(function () {
            console.error("Erro ao carregar estados.");
        });
    }

    // Função para carregar as cidades do estado selecionado
    function carregarCidades(estadoId) {
        $.getJSON(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${estadoId}/municipios`, function (cidades) {
            cidadeSelect.empty(); // Limpa as opções anteriores

            $.each(cidades, function (index, cidade) {
                cidadeSelect.append(`<option value="${cidade.id}">${cidade.nome}</option>`);
            });

            // Após carregar as cidades, habilita o campo e ativa o label
            cidadeSelect.prop("disabled", false);

            // Adiciona a classe "active" ao label para disparar o transition e o ::after (se houver)
            cidadeSelect.prev("label").addClass("active");
        }).fail(function () {
            console.error("Erro ao carregar cidades.");
        });
    }

    // Quando o estado for alterado:
    estadoSelect.on("change", function () {
        const estadoId = $(this).val();

        // Reinicia o campo de cidade
        cidadeSelect.empty().prop("disabled", true);
        // Remove a classe ativa do label da cidade (caso o usuário mude de estado)
        cidadeSelect.prev("label").removeClass("active");

        if (estadoId) {
            carregarCidades(estadoId);
        }
    });

    // Carrega os estados ao iniciar a página
    carregarEstados();
});

    //FUNÇÃO QUE LISTA O ANO DOS CARROS
    function validarCampo(input) {
    const min = 1886;
    const max = new Date().getFullYear();
    if (!input.value) return; // não valida se estiver vazio
    const valor = +input.value;
    if (valor < min || valor > max) {
      if (!input.alertado) { // mostra o alerta apenas uma vez
        input.alertado = true;
        alert(`O valor deve ser entre ${min} e ${max}.`);
        input.focus();
      }
    }
  }
  
  document.querySelectorAll("#ano-modelo, #ano-fabricacao").forEach(input => {
    input.addEventListener("blur", () => validarCampo(input));
    input.addEventListener("input", () => input.alertado = false);
  });


    //JS DA IMAGEM DO VEICULO
    document.getElementById("upload-imagem").addEventListener("change", function(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById("preview-imagem").src = e.target.result;
        };
        reader.readAsDataURL(file);
    }
});


    </script>

</body>

</html>